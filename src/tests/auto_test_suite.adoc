= Base Auto Test Suite

== Scope:
1. auto_test_suite.yml

2. package.json

== Purpose:
Establish a minimal baseline automated test suite that validates the project builds successfully before code is merged into the main branch.

== Code and Justification

This section reivews the code in segments and explains the why and how the choices were evaluated

== Triggers
.Job Triggers:

[source, yml]
----
on:
    push:
        branches: [main]
    pull_request:
        types: [opened, edited]
        branches: [main]
----

In this snippet, two triggers are established:

- on push

- on pull_request

This indicates to the CI pipeline that the test building will take place once either of these two events take place. Additionally, for pull requests, the build will execute when the PR is created.

== Job Specifications

.Job tasks:
[source,yml]
----
jobs:

    build-and-lint:
        runs-on: ubuntu-latest
        steps:
        - name: Check-out repo
          uses: actions/checkout@v4
        - name: install dependencies
          run: npm install
        - name: lint and build
          run: npm run ci-check
----

== Job execution:
.Process name
[source,yml]
----
build-and-lint:
----

The name of the task to be executed, since the goal is to provide feedback on where the build process failed, linting is necessary.

.Machine type
[source,yml]
----
runs on: ubuntu-latest
----
Provided and hosted by Github, the ubuntu virtual machine ensures quick build execution. Using `latest` ensures that the environment receives security patches and OS-level updates automatically.

.Steps:

.Machine set-up
[source,yml]
----
- name: Check-out repo
  uses: actions/checkout@v4
----
In the virtual machine the repository is cloned and allows the workflow to execute in main.

.Build commands
[source,yml]
----
- name: install dependencies
  run: npm install
- name: lint and build
  run: npm run ci-check
----

The development stack for this project involves Node.js, which allows the use of simple build instructions. 

`npm install` installs the project's dependencies.  

`npm run ci-check` is a custom command established in package.json. It executes the following command: `npm run lint && npm run test:build`. Similarly, `test:build` is custom for `npx expo export`. What `npm run ci-check` really does is replace: `npm run lint && npx expo export`
